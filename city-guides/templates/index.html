<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>City Microguides â€” Budget Picks</title>
  <link rel="stylesheet" href="/static/styles.css?v=2">
  <!-- Tailwind Play CDN (for rapid prototyping, replace with built CSS for production) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Optional: DaisyUI base styles via CDN (useful for components) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daisyui@2.51.6/dist/full.css">
  <!-- Flowbite JS (UI components that require JS) -->
  <script src="https://cdn.jsdelivr.net/npm/flowbite@1.6.5/dist/flowbite.min.js"></script>
</head>
<body>
  <div class="wrap">
    <div class="logo-container">
      <img src="/static/marcos.png" alt="Marco's Micro City Guides Logo" class="logo" style="width: 260px; height: auto; max-width:40%;" />
    </div>
      <!-- Hamburger menu for tools -->
      <button id="hamburgerBtn" aria-label="Open menu" class="hamburger fixed top-4 right-4 p-2 bg-white/80 rounded-lg shadow">â˜°</button>
      <div id="hamburgerMenu" class="fixed top-12 right-4 bg-white border rounded-lg shadow p-3" style="display:none; min-width:180px; z-index:60">
        <a id="transportLink" href="/transport" class="block py-2 px-2 hover:bg-gray-100 italic font-semibold">ğŸšŒ Public Transport</a>
        <a href="/tools/currency" class="block py-2 px-2 hover:bg-gray-100">ğŸª™ Currency Converter</a>
        <a href="#" class="block py-2 px-2 hover:bg-gray-100">âš™ï¸ Settings (coming)</a>
        <a href="/version" class="block py-2 px-2 hover:bg-gray-100">ğŸ” Debug /version</a>
      </div>
    <div class="page-hero">
      <h1>Powered by TravelAnd LLC</h1>
      <p>Discover real local gems, affordable eats, and hidden spotsâ€”powered by live data.</p>
    </div>

    <section class="search-section">
      <div class="max-w-xl mx-auto bg-white/70 backdrop-blur-md border border-white/30 rounded-2xl p-4 sm:p-6 shadow">
        <div class="flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-3 sm:space-y-0">
          <div class="relative w-full flex-1">
            <input id="city" class="w-full p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-300" placeholder="City, State or Zip (e.g., Chesapeake VA or 23320)" autocomplete="off" />
            <div id="city-suggestions" class="absolute z-50 left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow max-h-64 overflow-auto" style="display:none;"></div>
          </div>
          <select id="budget" class="w-full sm:w-44 p-3 rounded-xl border border-gray-200">
            <option value="any" selected>Any Budget</option>
            <option value="cheap">Budget (Under $20)</option>
            <option value="mid">Moderate ($20-$50)</option>
          </select>
        </div>

        <div class="mt-3 flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-3 sm:space-y-0">
          <input id="q" class="w-full flex-1 p-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-300" placeholder="Search sushi, burger, etc." />
          <label class="flex items-center space-x-2 text-sm text-gray-700 whitespace-nowrap">
            <input type="checkbox" id="localOnly" checked class="w-4 h-4 rounded" />
            <span>Local Gems Only</span>
          </label>
          <button id="searchBtn" aria-label="Search venues" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-xl shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 whitespace-nowrap">
            ğŸ” Search
          </button>
        </div>

        <p class="text-sm text-gray-600 mt-3"><strong>Pro Tip:</strong> Use a <b>Zip Code</b> or <b>State</b> (e.g., <i>VA</i>) for more accurate results in ambiguous areas.</p>
      </div>
    </section>


    <!-- Weather Widget -->
    <section id="weather" class="weather-section max-w-xl mx-auto mt-4 mb-6 bg-white/80 border border-blue-100 rounded-xl shadow p-4 flex items-center gap-4" style="display:none;">
      <div id="weather-icon" style="font-size:2.2em;"></div>
      <div>
        <div id="weather-summary" class="font-semibold text-lg"></div>
        <div id="weather-details" class="text-sm text-gray-600"></div>
      </div>
    </section>

    <section id="results" class="results"></section>

    <section id="contact-info" class="contact-info">
      <h2>Contact Information</h2>
      <p>If you need to reach us, call:</p>
      <p><a href="{{ phone }}" class="phone-link">{{ phone }}</a></p>
    </section>
  </div>

  <!-- Marco Floating Chat -->
  <div id="marcoChat" class="marco-chat-container">
    <div class="marco-chat-header">
      <span>ğŸ§­ Marco the Explorer</span>
      <button id="closeChat" class="close-chat">&times;</button>
    </div>
    <div id="chatMessages" class="chat-messages">
      <div class="message bot">Hello! I'm Marco. Ask me anything about the city you're exploring!</div>
    </div>
    <div id="chatChips" class="chat-chips"></div>
    <div class="chat-input-group">
      <input id="chatInput" placeholder="Ask Marco... (e.g. 'romantic spots')" />
      <button id="chatSend">Send</button>
    </div>
  </div>

  <button id="marcoFab" class="marco-fab" title="Ask Marco">
    <div class="marco-nudge">ğŸ§­ Ask Marco for local tips!</div>
    <span>M</span>
  </button>

  <div style="position:fixed;bottom:18px;left:18px;z-index:60;font-size:12px;color:#666;">
    {% if GROQ_ENABLED %}
      <span style="background:#e6fffa;padding:6px;border-radius:6px;border:1px solid #c6f6d5;color:#065f46;">Marco: Groq enabled</span>
    {% else %}
      <span style="background:#fffbeb;padding:6px;border-radius:6px;border:1px solid #fef3c7;color:#92400e;">Marco: fallback mode (no key)</span>
    {% endif %}
  </div>

  <script src="/static/main.js?v=2"></script>
</body>
</html>
